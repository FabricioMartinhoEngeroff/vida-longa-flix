<div class="recovery-container">
  <app-logo></app-logo>

  @if (open) {
<div class="recovery-card">
    <h1 class="title">Recuperar Senha</h1>
    <p class="subtitle">Digite seu e-mail para receber o link de recuperação</p>

    <form [formGroup]="recoveryForm" (ngSubmit)="onSubmit()">
      <app-form-field
        label="E-mail"
        type="email"
        icon="mail"
        placeholder="seu@email.com"
        [error]="emailControl?.touched && emailControl?.invalid ? 'Digite um e-mail válido' : null"
        formControlName="email">
      </app-form-field>

      @if (errorMessage) {
        <p class="error-message">{{ errorMessage }}</p>
      }

      @if (successMessage) {
        <p class="success-message">{{ successMessage }}</p>
      }

      <app-primary-button
        text="Enviar Link de Recuperação"
        [disabled]="recoveryForm.invalid || loading"
        type="submit">
      </app-primary-button>
    </form>

    <div class="back-to-login">
      <button type="button" class="link-button" (click)="goToLogin()">
        Voltar para o Login
      </button>
    </div>
  </div>
}
</div>