<p *ngIf="favoritos.length === 0 && favoritosCardapios.length === 0" class="mensagem-vazia">
  Nenhum favorito foi adicionado.
</p>

<!-- Favoritos de vídeos -->
<div *ngIf="favoritos.length > 0">

  <div *ngIf="!isMobile" class="web">
    <div class="titulo-container">
      <app-titulo [alinhamento]="'left'">Favoritos</app-titulo>

      <button class="ver-tudo" type="button" (click)="verTudo()">
        Ver tudo
        <mat-icon class="icone">arrow_forward</mat-icon>
      </button>
    </div>

    <app-carrossel>
      <div class="video-item" *ngFor="let video of favoritos">
        <video
          [src]="video.url"
          muted
          playsinline
          (click)="abrirModal(video)"
          (mouseenter)="playVideo($event)"
          (mouseleave)="pauseVideo($event)"
        ></video>

        <h3>{{ video.title }}</h3>

        <button class="botao-remover" type="button" (click)="remover(video)">
          Remover
        </button>
      </div>
    </app-carrossel>
  </div>

  <div *ngIf="isMobile" class="mobile">
    <div class="topo-mobile">
      <h2 class="titulo-mobile">Favoritos</h2>
      <span class="contador">{{ favoritos.length }}</span>
    </div>

    <div class="lista-mobile">
      <div class="card-mobile" *ngFor="let video of favoritos">
        <video
          [src]="video.url"
          muted
          playsinline
          (click)="abrirModal(video)"
        ></video>

        <div class="info-mobile">
          <p class="titulo-video">{{ video.title }}</p>

          <button class="botao-remover-mobile" type="button" (click)="remover(video)">
            <mat-icon>delete</mat-icon>
            Remover
          </button>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- Favoritos de cardápios -->
<div *ngIf="favoritosCardapios.length > 0" class="cardapios-favoritos">
  <div class="titulo-container">
    <app-titulo [alinhamento]="'left'">Cardápios Favoritos</app-titulo>
  </div>

  <div class="grid-cardapios">
    <div class="card-cardapio" *ngFor="let c of favoritosCardapios" (click)="abrirModalCardapio(c)">
      <img [src]="c.capa || 'assets/images/Logo.png'" [alt]="c.title" />
      <h3>{{ c.title }}</h3>

      <button type="button" (click)="removerCardapio(c); $event.stopPropagation()">
        Remover
      </button>
    </div>
  </div>
</div>

<!-- Modal de cardápio -->
<div class="modal-backdrop" *ngIf="cardapioSelecionado as s">
  <div class="modal modal-receita">
    <button class="fechar" (click)="fecharModalCardapio()">×</button>

    <img [src]="s.capa || 'assets/images/Logo.png'" [alt]="s.title" class="capa-grande" />

    <div class="conteudo">
      <h3>{{ s.title }}</h3>
      <p class="desc">{{ s.description }}</p>

      <div class="bloco">
        <h4>Receita</h4>
        <p>{{ s.receita || 'Sem receita cadastrada.' }}</p>
      </div>

      <div class="bloco">
        <h4>Dicas da Nutri</h4>
        <p>{{ s.dicasNutri || 'Sem dicas cadastradas.' }}</p>
      </div>

      <div class="macros">
        <div>Proteínas: {{ s.proteinas || 0 }}g</div>
        <div>Carboidratos: {{ s.carboidratos || 0 }}g</div>
        <div>Gorduras: {{ s.gorduras || 0 }}g</div>
        <div>Fibras: {{ s.fibras || 0 }}g</div>
        <div>Calorias: {{ s.calorias || 0 }} kcal</div>
      </div>
    </div>
  </div>
</div>
